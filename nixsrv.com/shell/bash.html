<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<!-- Mirrored from nixsrv.com/shell/bash by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 11 Apr 2015 09:07:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta name="google-site-verification" content="EhMbcVlAzv46CX6sFCupv3Ad2OXXRoIWIorX0KVy9sY"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>shell:bash - *nix spellbook</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="shell,bash"/>
<link rel="search" type="application/opensearchdescription+xml" href="../lib/exe/opensearch.php" title="*nix spellbook"/>
<link rel="start" href="../index.html"/>
<link rel="contents" href="bashdecf.html?do=index" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="../feede02b.php?mode=list&amp;ns=shell"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../_export/xhtml/shell/bash.html"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../_export/raw/shell/bash.txt"/>
<link rel="canonical" href="bash.html"/>
<link rel="stylesheet" type="text/css" href="../lib/exe/css0130.css?t=vector&amp;tseed=2daf37b429a7c4d4acd474cff747868a"/>
<script type="text/javascript">/*<![CDATA[*/var NS='shell';var JSINFO = {"id":"shell:bash","namespace":"shell"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/js15ee.php?tseed=2daf37b429a7c4d4acd474cff747868a"></script>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<link rel="shortcut icon" href="../lib/tpl/vector/static/3rd/dokuwiki/favicon.ico"/>
<link rel="apple-touch-icon" href="../lib/tpl/vector/static/3rd/dokuwiki/apple-touch-icon.png"/>
<script type="text/javascript" charset="utf-8" src="../lib/tpl/vector/user/user.js"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/lib/tpl/vector/static/3rd/vector/csshover.htc")}</style><![endif]-->
</head>
<body class="skin-vector">
<div id="page-container">
<div id="page-base" class="noprint"></div>
<div id="head-base" class="noprint"></div>
 
<div id="content">
<a name="top" id="top"></a>
<a name="dokuwiki__top" id="dokuwiki__top"></a>
 
<div id="siteNotice" class="noprint">
<div class="dokuwiki">
<p>
<span style="color:while;font-size:0%;">Thanks for all your error reports, I didn't forget it. I'll cleanup my guide soon. Thanks again!</span>
</p>
</div>
</div>
 
<div id="bodyContent" class="dokuwiki">
 
<h1 class="sectionedit1" id="bash">Bash</h1>
<div class="level1">
<p>
Our beloved shell, we use and abuse it every day. There are several general tips which will help you to work with without accidentally jeopardizing your box.
</p>
</div>
<h2 class="sectionedit2" id="sh_cheatsheet">sh cheatsheet</h2>
<div class="level2">
<pre class="code">
Control Operators:
    &#38; &#38;&#38; ( ) ; ;; | || &#60;newline&#62;
Redirection Operators:
    &#60; &#62; &#62;| &#60;&#60; &#62;&#62; &#60;&#38; &#62;&#38; &#60;&#60;- &#60;&#62;
Reserved Words:
    !     elif    fi      while   case
    else  for     then    {       }
    do    done    until   if      esac
Quoting:
    "    '    \
Special Parameters:
    * @ # ? - $ ! 0
Grouping Commands Together:
    {} ()
    { printf " hello " ; printf " world\n" ; } &#62; greeting
Functions:
    name () command
    local [varialbe | -] ...
Word Expansions:
    1. Tilde Expansion, Parameter Expansion, Command Substitution, Arithmetic Expansion (these all occur at the same time).
    2. Field Splitting is performed on fields generated by step (1) unless the IFS variable is null.
    3. Pathname Expansion (unless set -f is in effect).
    4. Quote Removal.
    The $ character is used to introduce parameter expansion, command substitution, or arithmetic evaluation.
Parameter Expansion:
    ${expression}        ${parameter}            ${parameter:-word}
    ${parameter:=word}   ${parameter:?[word]}    ${parameter:+word}
    ${#parameter}        ${parameter%word}       ${parameter%%word}
    ${parameter#word}    ${parameter##word}
Command Substitution:
    $(command)           `command`
Arithmetic Expansion
    $((expression)):
White Space Splitting (Field Splitting):
    IFS
Pathname Expansion (File Name Generation):
    Each word is viewed as a series of patterns, separated by slashes.
Shell Patterns:
    Meta-characters are “!”, “*”, “?”, and “[”.
Builtins:
    :         true        . file     alias
    bd        command     cd -       cd -LP
    echo      eval        exec       exit
    export    export -p   fc         fg
    getopts   hash        pwd        read
    readonly  readonly -p printf     set
    shift     test        times      trap
    type      ulimit      umask      unalias
    unser     wait
Environment:
    HOME      PATH        CDPATH     MAIL
    MAILCHECK MAILPATH    PS1        PS2
    PS4       IFS         TERM       HISTSIZE
    PWD       OLDPWD      PPID
Files:
    $HOME/.profile        /etc/profile</pre>
</div>
<h2 class="sectionedit3" id="general_tips">General tips</h2>
<div class="level2">
<pre class="bash code bash"><span class="co0"># Think before you type</span>
    <span class="co0"># When rebooting, stop and say to yourself &quot;I'm going to reboot the server foo,</span>
    <span class="co0"># I mailed everyone interested so it's okay, now I'll press enter and pray!&quot;</span>
    reboot
&nbsp;
    <span class="co0"># Before doing anything potentially harmful, stop and say to yourself &quot;I'm going to</span>
    <span class="co0"># delete dir /foo/bar, it's okay because it contains old unnecessary files,</span>
    <span class="co0"># I'm sure of it.&quot;</span>
    <span class="kw2">rm</span> <span class="re5">-rvf</span> <span class="sy0">/</span>foo<span class="sy0">/</span>bar <span class="co0"># still wrong because of next tip</span>
&nbsp;
    <span class="co0"># Always do ls -R /foo/bar before deleting, chmodding, moving</span>
    <span class="co0"># or doing anything potentially harmful!</span>
    <span class="kw2">ls</span> <span class="re5">-R</span> <span class="sy0">/</span>foo<span class="sy0">/</span>bar
    <span class="kw2">rm</span> <span class="re5">-rvf</span> <span class="sy0">/</span>foo<span class="sy0">/</span>bar <span class="co0"># now it's ok</span>
&nbsp;
<span class="co0"># Always use -v key</span>
    <span class="kw2">ln</span> <span class="re5">-v</span>
    <span class="kw2">mv</span> <span class="re5">-v</span>
    <span class="kw2">chmod</span> <span class="re5">-v</span>
    <span class="kw2">cp</span> <span class="re5">-v</span>
<span class="co0"># Always specify full path</span>
    <span class="kw2">rm</span> <span class="re5">-rf</span> <span class="sy0">/</span>full<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span><span class="kw2">dir</span>
    <span class="kw2">chmod</span> <span class="re5">-R</span> foo:bar <span class="sy0">/</span>full<span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span><span class="kw2">dir</span>
    <span class="sy0">&lt;</span>...<span class="sy0">&gt;</span>
&nbsp;
<span class="co0"># Don't do this EVAR!</span>
    <span class="kw2">rm</span> <span class="re5">-rf</span> .<span class="sy0">*</span> <span class="co0"># bad bad bad thing will happen to you!</span>
    <span class="kw2">chmod</span> <span class="re5">-R</span> foo:bar .<span class="sy0">*</span></pre>
</div>
<h2 class="sectionedit4" id="usefull_snippets_and_bash_quirks">Usefull snippets and bash quirks</h2>
<div class="level2">
<pre class="bash code bash"><span class="co0"># Getting list of files</span>
    <span class="co0"># Don't do this, brakes on spaces</span>
    <span class="kw1">for</span> path <span class="kw1">in</span> <span class="sy0">`</span><span class="kw2">find</span><span class="sy0">`</span>; <span class="kw1">do</span>
        stuff with <span class="st0">&quot;<span class="es2">$path</span>&quot;</span> <span class="co0"># too late - already broken on whitespace</span>
    <span class="kw1">done</span>
&nbsp;
    <span class="co0"># Do this, it's safe</span>
    <span class="kw2">find</span> <span class="sy0">|</span> <span class="kw1">while</span> <span class="kw2">read</span> path;
        <span class="kw1">do</span> stuff with <span class="st0">&quot;<span class="es2">$path</span>&quot;</span>
    <span class="kw1">done</span>
&nbsp;
<span class="co0"># Copy binary file using bash builtins ONLY</span>
<span class="br0">&#40;</span> <span class="kw1">while</span> <span class="kw2">read</span> <span class="re5">-r</span> <span class="re5">-d</span> <span class="st_h">''</span> ; <span class="kw1">do</span> <span class="kw3">printf</span> <span class="sy0">%</span>s<span class="st_h">'\0'</span> <span class="st0">&quot;<span class="es3">${REPLY}</span>&quot;</span> ; <span class="kw1">done</span> ;  <span class="kw3">printf</span> <span class="sy0">%</span>s <span class="st0">&quot;<span class="es3">${REPLY}</span>&quot;</span> <span class="br0">&#41;</span> <span class="sy0">&lt;</span> <span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">ls</span> <span class="sy0">&gt;</span> <span class="sy0">/</span>tmp<span class="sy0">/</span><span class="kw2">ls</span>
&nbsp;
<span class="co0"># Doing something in loop</span>
    <span class="kw1">while</span> <span class="kw2">true</span> ; <span class="kw1">do</span> stuff ; <span class="kw1">done</span>
&nbsp;
<span class="co0"># Doing something in loop iterating through ranges</span>
    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="br0">&#40;</span><span class="re2">i</span>=<span class="nu0">1</span>;i<span class="sy0">&lt;</span>=<span class="nu0">255</span>;++i<span class="br0">&#41;</span><span class="br0">&#41;</span>; <span class="kw1">do</span> host 10.0.0.<span class="re1">$i</span>; <span class="kw1">done</span>
&nbsp;
<span class="co0"># Using bash as a calculator</span>
    <span class="kw3">echo</span> $<span class="br0">&#40;</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="sy0">*</span><span class="nu0">1024</span><span class="sy0">**</span><span class="nu0">3</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
&nbsp;
<span class="co0"># readable format</span>
    <span class="kw3">echo</span> $<span class="br0">&#40;</span><span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">date</span> +<span class="sy0">%</span>d-<span class="sy0">%</span>m-<span class="sy0">%</span>Y<span class="br0">&#41;</span>
    <span class="nu0">31</span>-05-<span class="nu0">2012</span>
&nbsp;
<span class="co0"># good format for archive directory naming, by default sorts first-to-last</span>
    <span class="kw3">echo</span> $<span class="br0">&#40;</span><span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">date</span> +<span class="sy0">%</span>Y<span class="sy0">%</span>m<span class="sy0">%</span>d<span class="br0">&#41;</span>
    <span class="nu0">20120531</span>
&nbsp;
<span class="co0"># control teh cursor!</span>
    tput cup <span class="nu0">10</span> <span class="nu0">10</span>
&nbsp;
<span class="co0"># get input from user</span>
    <span class="kw2">read</span> name <span class="sy0">&lt;</span> <span class="sy0">/</span>dev<span class="sy0">/</span>tty
&nbsp;
<span class="co0"># conditions</span>
    http:<span class="sy0">//</span>tldp.org<span class="sy0">/</span>LDP<span class="sy0">/</span>Bash-Beginners-Guide<span class="sy0">/</span>html<span class="sy0">/</span>sect_07_01.html
&nbsp;
<span class="co0"># xtrace (debugging)</span>
    <span class="kw2">bash</span> <span class="re5">-x</span></pre>
</div>
<h2>Discussion</h2><script charset="utf-8" type="text/javascript">
                    <!--//--><![CDATA[//><!--
var disqus_url     = 'bash.html';
var disqus_title   = 'Bash';
var disqus_message = '';
var disqus_container_id = 'disqus__thread';
                    //--><!]]>
                    </script><div id="disqus__thread"></div><script type="text/javascript" src="https://disqus.com/forums/nixsrv/embed.js"></script><noscript><a href="http://nixsrv.disqus.com/?url=ref">View the discussion thread.</a></noscript>  
<div class="clearer"></div>
</div>
 
</div>
 
 
<div id="head" class="noprint">
<div id="p-personal">
<ul>
</ul>
</div>
 
<div id="left-navigation">
<div id="p-namespaces" class="vectorTabs">
<ul>
<li id="ca-nstab-main" class="selected"><a href="bash.html"><span>Article</span></a></li>
</ul>
</div>
</div>
 
 
<div id="right-navigation">
<div id="p-views" class="vectorTabs">
<ul>
<li id="ca-view" class="selected"><a href="bash.html"><span>Read</span></a></li>
</ul>
</div>
<div id="p-search">
<h5>
<label for="qsearch__in">Search</label>
</h5>
<form action="https://nixsrv.com/start" accept-charset="utf-8" id="dw__search" name="dw__search">
<input type="hidden" name="do" value="search"/>
<div id="simpleSearch">
<input id="qsearch__in" name="id" type="text" accesskey="f" value=""/>
<button id="searchButton" type="submit" name="button" title="Search for this text">&nbsp;</button>
</div>
<div id="qsearch__out" class="ajax_qsearch JSpopup"></div>
</form>
</div>
</div>
 
</div>
 
 
<div id="panel" class="noprint">
 
<div id="p-logo">
<a href="../start.html" style="background-image:url(../lib/tpl/vector/static/3rd/dokuwiki/logo.png);" accesskey="h" title="[ALT+H]"></a>
</div>
 
<div id="p-navigation" class="portal">
<h5>Navigation</h5>
<div class="body">
<div class="dokuwiki">
<p>
<strong>Learn Linux The Hard Way</strong>
</p>
<ul>
<li class="level1"><div class="li"> <span class="curid"><a href="../llthw.html" class="wikilink1" title="llthw">Introduction</a></span></div>
</li>
</ul>
<p>
<br>
<br>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
</p>
</div>
</div>
</div>
</div>
 
</div>
 
 
<div id="footer">
<ul id="footer-info">
<li id="footer-info-lastmod">
<bdi>shell/bash.txt</bdi> · Last modified: 2014/11/16 10:45 by <bdi>orl</bdi><br/>
</li>
<li id="footer-info-copyright">
<div class="dokuwiki"><div class="license">Except where otherwise noted, content on this wiki is licensed under the following license: <bdi><a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="urlextern">CC Attribution-Share Alike 3.0 Unported</a></bdi></div></div>
</li>
</ul>
<ul id="footer-places" class="noprint">
<li> </li>
</ul>
<div style="clearer"></div>
</div>
 
<img src="../lib/exe/indexerd1a9.gif?id=shell%3Abash&amp;1428742775" width="2" height="1" alt=""/>
</body>

<!-- Mirrored from nixsrv.com/shell/bash by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 11 Apr 2015 09:07:44 GMT -->
</html>
